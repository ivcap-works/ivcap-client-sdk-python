<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ivcap_client: Python library to interact with an IVCAP Cluster &mdash; ivcap_client  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ivcap_client: Python library to interact with an IVCAP Cluster" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            ivcap_client
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ivcap_client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ivcap_client: Python library to interact with an IVCAP Cluster</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ivcap-client-python-library-to-interact-with-an-ivcap-cluster">
<h1>ivcap_client: Python library to interact with an IVCAP Cluster<a class="headerlink" href="#ivcap-client-python-library-to-interact-with-an-ivcap-cluster" title="Permalink to this heading"></a></h1>
<p>A python library to interact with the published API of IVCAP. Almost
all the code of this library is auto generated by <a class="reference external" href="https://github.com/openapi-generators/openapi-python-client">openapi-python-client</a> from <a class="reference external" href="https://github.com/reinventingscience/ivcap-core/">IVCAP’s</a> <code class="docutils literal notranslate"><span class="pre">openapi3.json</span></code> file.</p>
<blockquote>
<div><p>CAUTION: This README is out of date, for the moment it is better to check out
the examples in <span class="xref myst">examples</span>. We’ll try to fix this soon.</p>
</div></blockquote>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><span class="xref myst">Create a client</span></p></li>
<li><p><span class="xref myst">Call a Service</span></p></li>
<li><p><span class="xref myst">Use Models</span></p></li>
<li><p><span class="xref myst">Example: Order a Service</span></p></li>
<li><p><span class="xref myst">Things to know</span></p></li>
</ul>
<section id="create-a-client-a-name-create-a">
<h3>Create a client <a name="create"></a><a class="headerlink" href="#create-a-client-a-name-create-a" title="Permalink to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ivcap_client</span> <span class="kn">import</span> <span class="n">AuthenticatedClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">AuthenticatedClient</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://api.ivcap.net&quot;</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s2">&quot;JWT&quot;</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><p>Currently, the best way to get the token is to use the <a class="reference external" href="https://github.com/reinventingscience/ivcp-cli">ivcap cli</a> and execute <code class="docutils literal notranslate"><span class="pre">ivcap</span> <span class="pre">context</span> <span class="pre">get</span> <span class="pre">access-token</span></code>. Obviously,
this assumes that the current context of <code class="docutils literal notranslate"><span class="pre">ivcap</span></code> is the same as the one the above
client is for.</p>
</div></blockquote>
<p>By default, when you’re calling an HTTPS API it will attempt to verify that SSL is working correctly. Using certificate verification is highly recommended most of the time, but sometimes you may need to authenticate to a server (especially an internal server) using a custom certificate bundle.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">AuthenticatedClient</span><span class="p">(</span>
    <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://internal_api.example.com&quot;</span><span class="p">,</span>
    <span class="n">token</span><span class="o">=</span><span class="s2">&quot;SuperSecretToken&quot;</span><span class="p">,</span>
    <span class="n">verify_ssl</span><span class="o">=</span><span class="s2">&quot;/path/to/certificate_bundle.pem&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can also disable certificate validation altogether, but beware that <strong>this is a security risk</strong>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">AuthenticatedClient</span><span class="p">(</span>
    <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://internal_api.example.com&quot;</span><span class="p">,</span>
    <span class="n">token</span><span class="o">=</span><span class="s2">&quot;SuperSecretToken&quot;</span><span class="p">,</span>
    <span class="n">verify_ssl</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="call-a-service-and-use-models-a-name-call-a">
<h3>Call a Service and use Models<a name="call"></a><a class="headerlink" href="#call-a-service-and-use-models-a-name-call-a" title="Permalink to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ivcap_client.models</span> <span class="kn">import</span> <span class="n">ServiceListRT</span>
<span class="kn">from</span> <span class="nn">ivcap_client.api.service</span> <span class="kn">import</span> <span class="n">service_list</span>
<span class="kn">from</span> <span class="nn">ivcap_client.types</span> <span class="kn">import</span> <span class="n">Response</span>

<span class="n">services</span><span class="p">:</span> <span class="n">ServiceListRT</span> <span class="o">=</span> <span class="n">service_list</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># or if you need more info (e.g. status_code)</span>
<span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">[</span><span class="n">ServiceListRT</span><span class="p">]</span> <span class="o">=</span> <span class="n">service_list</span><span class="o">.</span><span class="n">sync_detailed</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">limit</span><span class="p">)</span>
</pre></div>
</div>
<p>Or do the same thing with an async version:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ivcap_client.models</span> <span class="kn">import</span> <span class="n">ServiceListRT</span>
<span class="kn">from</span> <span class="nn">ivcap_client.api.service</span> <span class="kn">import</span> <span class="n">service_list</span>
<span class="kn">from</span> <span class="nn">ivcap_client.types</span> <span class="kn">import</span> <span class="n">Response</span>

<span class="n">services</span><span class="p">:</span> <span class="n">ServiceListRT</span> <span class="o">=</span> <span class="k">await</span> <span class="n">service_list</span><span class="o">.</span><span class="n">asyncio</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># or if you need more info (e.g. status_code)</span>
<span class="n">response</span><span class="p">:</span> <span class="n">Response</span><span class="p">[</span><span class="n">ServiceListRT</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="n">service_list</span><span class="o">.</span><span class="n">asyncio_detailed</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">limit</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="use-models-a-name-use-a">
<h3>Use Models<a name="use"></a><a class="headerlink" href="#use-models-a-name-use-a" title="Permalink to this heading"></a></h3>
<p>The above call returns a <code class="docutils literal notranslate"><span class="pre">ServiceListRT</span></code> object. To find out what attributes that contains:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">services</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;at-time&#39;, &#39;links&#39;, &#39;services&#39;])</span>
</pre></div>
</div>
<p>and to pretty-print the list of services:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="n">el</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="n">services</span><span class="o">.</span><span class="n">services</span><span class="p">)))</span>
<span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:service:8773f79e-d46c-559a-a63c-54c4e2a9d9a1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;infer-with-paddle-paddle&#39;</span><span class="p">,</span>
    <span class="s1">&#39;provider&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:provider:4c65b865-df6a-4977-982a-f96b19c1fda0&#39;</span><span class="p">}},</span>
  <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:service:85f4586e-af1e-5200-94ba-0be8651740ed&#39;</span><span class="p">,</span>
    <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Gradient Text Image&#39;</span><span class="p">,</span>
    <span class="s1">&#39;provider&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:provider:4c65b865-df6a-4977-982a-f96b19c1fda0&#39;</span><span class="p">}</span>
<span class="p">}]</span>
</pre></div>
</div>
</section>
<section id="example-order-a-service-a-name-order-a">
<h3>Example: Order a Service <a name="order"></a><a class="headerlink" href="#example-order-a-service-a-name-order-a" title="Permalink to this heading"></a></h3>
<p>To get the list of parameters for a particular service, using the list of services we obtained above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ivcap_client.api.service</span> <span class="kn">import</span> <span class="n">service_read</span>
<span class="kn">from</span> <span class="nn">ivcap_client.models</span> <span class="kn">import</span> <span class="n">ServiceStatusRT</span>

<span class="n">exampleService</span><span class="p">:</span><span class="n">ServiceStatusRT</span> <span class="o">=</span> <span class="n">service_read</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">services</span><span class="o">.</span><span class="n">services</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">exampleService</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">dict_keys</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">,</span> <span class="s1">&#39;parameters&#39;</span><span class="p">,</span> <span class="s1">&#39;account&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;provider&#39;</span><span class="p">,</span> <span class="s1">&#39;tags&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">exampleService</span><span class="o">.</span><span class="n">description</span>
<span class="s1">&#39;Creates an image with a customizable text.&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="n">el</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="n">exampleService</span><span class="o">.</span><span class="n">parameters</span><span class="p">)))</span>
<span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Message to display&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;msg&#39;</span><span class="p">,</span>
    <span class="s1">&#39;optional&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
    <span class="s1">&#39;unit&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">},</span>
  <span class="p">{</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Image artifact to use as background&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;img-art&#39;</span><span class="p">,</span>
    <span class="s1">&#39;optional&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;artifact&#39;</span><span class="p">,</span>
    <span class="s1">&#39;unit&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">},</span>
  <span class="p">{</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Image url (external) to use as background&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;img-url&#39;</span><span class="p">,</span>
    <span class="s1">&#39;optional&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span>
    <span class="s1">&#39;unit&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<p>To order a service:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">from</span> <span class="nn">ivcap_client.api.order</span> <span class="kn">import</span> <span class="n">order_create</span>
<span class="kn">from</span> <span class="nn">ivcap_client.models</span> <span class="kn">import</span> <span class="n">OrderRequestT</span><span class="p">,</span> <span class="n">ParameterT</span><span class="p">,</span> <span class="n">OrderRequestT</span><span class="p">,</span> <span class="n">OrderStatusRT</span>

<span class="n">img_url</span> <span class="o">=</span> <span class="s1">&#39;https://juststickers.in/wp-content/uploads/2016/07/go-programming-language.png&#39;</span>
<span class="n">service_id</span> <span class="o">=</span> <span class="s1">&#39;urn:ivcap:service:85f4586e-af1e-5200-94ba-0be8651740ed&#39;</span>
<span class="n">account_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;IVCAP_ACCOUNT_ID&#39;</span><span class="p">]</span>

<span class="n">p</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">ParameterT</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;msg&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Hello World&#39;</span><span class="p">),</span>
    <span class="n">ParameterT</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;img-url&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">img_url</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">req</span> <span class="o">=</span> <span class="n">OrderRequestT</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test 1&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">service_id</span><span class="o">=</span><span class="n">service_id</span> <span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="n">account_id</span><span class="p">)</span>
<span class="n">order_resp</span> <span class="o">=</span> <span class="n">order_create</span><span class="o">.</span><span class="n">sync_detailed</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">json_body</span><span class="o">=</span><span class="n">req</span><span class="p">)</span>
<span class="n">order</span><span class="p">:</span><span class="n">OrderStatusRT</span> <span class="o">=</span> <span class="n">order_resp</span><span class="o">.</span><span class="n">parsed</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">order</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Order request failed: $</span><span class="si">{</span><span class="n">order_resp</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">order</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
<span class="p">{</span> <span class="s1">&#39;account&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:account:4c65b865-df6a-4977-982a-f96b19c1fda0&#39;</span><span class="p">},</span>
  <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:order:cd04597a-2d55-4f1c-906c-995450f30599&#39;</span><span class="p">,</span>
  <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;self&#39;</span><span class="p">:</span> <span class="s1">&#39;http://localhost:8080/1/orders/cd04597a-2d55-4f1c-906c-995450f30599&#39;</span><span class="p">},</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;test 1&#39;</span><span class="p">,</span>
  <span class="s1">&#39;ordered_at&#39;</span><span class="p">:</span> <span class="s1">&#39;2023-05-03T16:31:04+10:00&#39;</span><span class="p">,</span>
  <span class="s1">&#39;parameters&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;msg&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Hello World&#39;</span><span class="p">},</span>
                  <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;img-url&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;https://juststickers.in/wp-content/uploads/2016/07/go-programming-language.png&#39;</span><span class="p">}],</span>
  <span class="s1">&#39;products&#39;</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:service:85f4586e-af1e-5200-94ba-0be8651740ed&#39;</span><span class="p">,</span>
               <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;self&#39;</span><span class="p">:</span> <span class="s1">&#39;http://localhost:8080/1/services/85f4586e-af1e-5200-94ba-0be8651740ed&#39;</span><span class="p">}},</span>
  <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;pending&#39;</span><span class="p">}</span>

</pre></div>
</div>
<p>Later on we can check on the order:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ivcap_client.api.order</span> <span class="kn">import</span> <span class="n">order_read</span>

<span class="n">ostatus</span> <span class="o">=</span> <span class="n">order_read</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="n">client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">order</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">ostatus</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
<span class="p">{</span> <span class="s1">&#39;account&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:account:4c65b865-df6a-4977-982a-f96b19c1fda0&#39;</span><span class="p">},</span>
  <span class="s1">&#39;finished_at&#39;</span><span class="p">:</span> <span class="s1">&#39;2023-05-04T00:29:19Z&#39;</span><span class="p">,</span>
  <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:order:de15958e-9575-444a-aa25-69ff259e2345&#39;</span><span class="p">,</span>
  <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;test 1&#39;</span><span class="p">,</span>
  <span class="s1">&#39;ordered_at&#39;</span><span class="p">:</span> <span class="s1">&#39;2023-05-04T00:28:29Z&#39;</span><span class="p">,</span>
  <span class="s1">&#39;parameters&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;msg&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;Hello World&#39;</span><span class="p">},</span>
                  <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;img-url&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;https://juststickers.in/wp-content/uploads/2016/07/go-programming-language.png&#39;</span><span class="p">}],</span>
  <span class="s1">&#39;products&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:artifact:eae6aceb-aec5-4eec-a918-bd4575891168&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
                  <span class="s1">&#39;mime-type&#39;</span><span class="p">:</span> <span class="s1">&#39;image/png&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;out.png&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}],</span>
  <span class="s1">&#39;service&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;urn:ivcap:service:85f4586e-af1e-5200-94ba-0be8651740ed&#39;</span><span class="p">,</span>
               <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}},</span>
  <span class="s1">&#39;started_at&#39;</span><span class="p">:</span> <span class="s1">&#39;2023-05-04T00:28:45Z&#39;</span><span class="p">,</span>
  <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;succeeded&#39;</span><span class="p">}</span>

</pre></div>
</div>
</section>
<section id="things-to-know-a-name-know-a">
<h3>Things to know<a name="know"></a><a class="headerlink" href="#things-to-know-a-name-know-a" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Every path/method combo becomes a Python module with four functions:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sync</span></code>: Blocking request that returns parsed data (if successful) or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sync_detailed</span></code>: Blocking request that always returns a <code class="docutils literal notranslate"><span class="pre">Request</span></code>, optionally with <code class="docutils literal notranslate"><span class="pre">parsed</span></code> set if the request was successful.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asyncio</span></code>: Like <code class="docutils literal notranslate"><span class="pre">sync</span></code> but async instead of blocking</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asyncio_detailed</span></code>: Like <code class="docutils literal notranslate"><span class="pre">sync_detailed</span></code> but async instead of blocking</p></li>
</ol>
</li>
<li><p>All path/query params, and bodies become method arguments.</p></li>
<li><p>If your endpoint had any tags on it, the first tag will be used as a module name for the function (my_tag above)</p></li>
<li><p>Any endpoint which did not have a tag will be in <code class="docutils literal notranslate"><span class="pre">ivcap_client.api.default</span></code></p></li>
</ol>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-right" title="ivcap_client: Python library to interact with an IVCAP Cluster" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, CSIRO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>